<div class="row">
  <div class="col-lg-12">
    <nb-card>
      <nb-card-header class="nb-card-header">{{ titleName }}</nb-card-header>
      <nb-card-body class="nb-card-body">
        <form [formGroup]="form">
          <!-- ROW 1 -->
          <div class="row">
            <div class="col-sm-6 input-group"></div>
            <!-- 是否啟用 -->
            <div class="col-sm-6 input-group">
              <label for="IsEnabled"
                class="col-sm-4 col-form-label">{{ translations.STORE.IS_ENABLED | translate }}</label>
              <nb-checkbox class="col-sm-8" validator formControlName="IsEnabled" id="IsEnabled"
                [disabled]="uiActionType == actionType.Read  || uiActionType == actionType.Update ? true : null"
                [(ngModel)]="model.IsEnabled">
              </nb-checkbox>
            </div>
            <!-- END 是否啟用 -->
          </div>
          <!-- END ROW 1 -->
          <!-- ROW 2 -->
          <div class="row">
            <!-- 企業組織選單 -->
            <div class="col-sm-12 input-group">
              <div class="col-sm-12">
                <app-bu-nodedef-level-select #allNodeSelector [isSelf]="false"></app-bu-nodedef-level-select>
              </div>
            </div>
            <!-- END 企業組織選單 -->
          </div>
          <!-- END ROW 2 -->

          <!-- ROW 2 -->
          <div class="row ">
            <!-- 店號 -->
            <div class="col-sm-6 input-group">
              <label for="Code" class="col-sm-4 col-form-label">{{ translations.STORE.CODE | translate }}</label>
              <input type="text" class="form-control col-sm-8" formControlName="Code" validator
                [attr.readonly]="uiActionType == actionType.Read  || uiActionType == actionType.Update ? true : null"
                placeholder="{{ translations.STORE.CODE_PLACEHOLDER | translate }}" [(ngModel)]="model.Code">
            </div>
            <!-- END 店號 -->
            <!-- 電話 -->
            <div class="col-sm-6 input-group">
              <label for="Telephone"
                class="col-sm-4 col-form-label">{{ translations.STORE.TELEPHONE | translate }}</label>
              <input type="text" class="form-control col-sm-8" formControlName="Telephone" validator
                [attr.readonly]="uiActionType == actionType.Read ? true : null"
                placeholder="{{ translations.STORE.TELEPHONE_PLACEHOLDER | translate }}" [(ngModel)]="model.Telephone">
            </div>
            <!-- END 電話 -->
          </div>
          <!-- END ROW 2 -->

          <!-- ROW 3 -->
          <div class="row">
            <!-- 店名 -->
            <div class="col-sm-6 input-group">
              <label for="Name" class="col-sm-4 col-form-label">{{ translations.STORE.NAME | translate }}</label>
              <input type="text" class="form-control col-sm-8" formControlName="Name" validator
                [attr.readonly]="(uiActionType == actionType.Read || uiActionType == actionType.Update) ? true : null"
                placeholder="{{ translations.STORE.TELEPHONE_PLACEHOLDER | translate }}" [(ngModel)]="model.Name">
            </div>
            <!-- END 店名 -->
            <!-- EMAIL -->
            <div class="col-sm-6 input-group">
              <label for="Email" class="col-sm-4 col-form-label">{{ translations.STORE.EMAIL | translate }}</label>
              <input type="text" class="form-control col-sm-8" formControlName="Email" validator
                [attr.readonly]="(uiActionType == actionType.Read) ? true : null"
                placeholder="{{ translations.STORE.EMAIL_PLACEHOLDER | translate }}" [(ngModel)]="model.Email">
            </div>
            <!-- END EMAIL -->
          </div>
          <!-- END ROW 3-->

          <!-- ROW 4 -->
          <div class="row">
            <!-- 地址 -->
            <div class="col-sm-6 input-group">
              <label for="Address" class="col-sm-4 col-form-label">{{ translations.STORE.ADDRESS | translate }}</label>
              <input type="text" class="form-control col-sm-8" formControlName="Address" validator
                [attr.readonly]="(uiActionType == actionType.Read) ? true : null"
                placeholder="{{ translations.STORE.ADDRESS_PLACEHOLDER | translate }}" [(ngModel)]="model.Address">
            </div>
            <!-- END 地址 -->
            <!-- 服務時間 -->
            <div class="col-sm-6 input-group">
              <label for="ServiceTime"
                class="col-sm-4 col-form-label">{{ translations.STORE.SERVICE_TIME | translate }}</label>
              <input type="text" class="form-control col-sm-8" formControlName="ServiceTime" validator
                [attr.readonly]="(uiActionType == actionType.Read) ? true : null"
                placeholder="{{ translations.STORE.SERVICE_TIME_PLACEHOLDER | translate }}"
                [(ngModel)]="model.ServiceTime">
            </div>
            <!-- END 服務時間 -->
          </div>
          <!-- END ROW 4-->

          <!-- ROW 5 -->
          <div class="row">
            <!-- 負責人 -->
            <div class="col-sm-4 input-group">
              <label class="col-sm-4 col-form-label">{{ translations.STORE.OWNER | translate }}</label>
              <button type="button" class="btn btn-sm btn-ptc-modify" *ngIf="uiActionType == actionType.Update"
                (click)="btnOwnerModal($event)">{{ translations.COMMON.BTN_CHOICE_JOB | translate }}
              </button>
            </div>
            <!-- END 負責人 -->
          </div>
          <!-- 職稱清單 -->
          <div class="row search-result">
            <div class="col-lg-12">
              <nb-card>
                <nb-card-header> {{ translations.STORE.JOB_USER_LIST | translate }}
                </nb-card-header>
                <nb-card-body>
                  <app-local-table [isVisibleBtnEdit]="false" [isVisibleBtnSearch]="false" [isVisibleBtnDelete]="false"
                    [columns]="columnsOwner" [items]="model.OwnerUsers">
                  </app-local-table>
                </nb-card-body>
              </nb-card>
            </div>
          </div>
          <!-- END 職稱清單 -->
          <!-- END ROW 5-->

          <!-- ROW 6 -->
          <div class="row">
            <!-- OFC -->
            <div class="col-sm-4 input-group">
              <label class="col-sm-4 col-form-label">{{ translations.STORE.OFC | translate }}</label>
              <button type="button" class="btn btn-sm btn-ptc-modify" *ngIf="uiActionType == actionType.Update"
                (click)="btnOFCModal($event)">{{ translations.COMMON.BTN_CHOICE_JOB | translate }}
              </button>
            </div>
            <!-- END OFC -->
          </div>
          <!-- 職稱清單 -->
          <div class="row search-result">
            <div class="col-lg-12">
              <nb-card>
                <nb-card-header> {{ translations.STORE.JOB_USER_LIST | translate }}
                </nb-card-header>
                <nb-card-body>
                  <app-local-table [isVisibleBtnEdit]="false" [isVisibleBtnSearch]="false" [isVisibleBtnDelete]="false"
                    [columns]="columnsOFC" [items]="model.OFCUsers">
                  </app-local-table>
                </nb-card-body>
              </nb-card>
            </div>
          </div>
          <!-- END 職稱清單 -->
          <!-- END ROW 6-->
          <nb-card *ngIf="inputs.length > 0">
            <nb-card-header>{{ translations.STORE.PARTICULAR | translate }}</nb-card-header>
            <nb-card-body>
              <ptc-dynamic-form [class]="'row'" [bindingData]="particular" [inputs]="inputs" [form]="form">
              </ptc-dynamic-form>
            </nb-card-body>
          </nb-card>
          <!-- ROW 7 -->
          <div class="row ">
            <!-- 開店日期 -->
            <div class="col-sm-6 input-group">
              <label for="StoreOpenDateTime"
                class="col-sm-4 col-form-label">{{ translations.STORE.STORE_OPEN_DATETIME | translate }}</label>
              <input type="text" validator class="form-control col-sm-8" formControlName="StoreOpenDateTime"
                [attr.disabled]="(uiActionType == actionType.Read) ? true : null"
                placeholder="{{ translations.STORE.STORE_OPEN_DATETIME_PLACEHOLDER | translate }}"
                [(ngModel)]="model.StoreOpenDateTime" datetimepicker>
            </div>
            <!-- END 開店日期 -->
            <!-- 類型 -->
            <div class="col-sm-6 input-group">
              <label for="StoreType"
                class="col-sm-4 col-form-label">{{ translations.STORE.STORE_TYPE | translate }}</label>
              <app-store-type-select validator [nodeKey]="model.NodeKey" [(ngModel)]="model.StoreType"
                formControlName="StoreType" [disabled]="(uiActionType == actionType.Read) ? true : null"
                [placeholder]="translations.STORE.STORE_TYPE_PLACEHOLDER | translate">
              </app-store-type-select>
            </div>
            <!-- END 類型 -->
          </div>
          <!-- END ROW 7-->

          <!-- ROW 8 -->
          <div class="row ">
            <!-- 關店日期 -->
            <div class="col-sm-6 input-group">
              <label for="StoreCloseDateTime"
                class="col-sm-4 col-form-label">{{ translations.STORE.STORE_CLOSE_DATETIME | translate }}</label>
              <input type="text" validator class="form-control col-sm-8" formControlName="StoreCloseDateTime"
                [attr.disabled]="(uiActionType == actionType.Read) ? true : null"
                placeholder="{{ translations.STORE.STORE_CLOSE_DATETIME_PLACEHOLDER | translate }}"
                [(ngModel)]="model.StoreCloseDateTime" datetimepicker>
            </div>
            <!-- END 關店日期 -->
            <!-- 備註 -->
            <div class="col-sm-6 input-group">
              <label for="Memo" class="col-sm-4 col-form-label">{{ translations.STORE.MEMO | translate }}</label>
              <input type="text" validator class="form-control col-sm-8" formControlName="Memo"
                [attr.readonly]="(uiActionType == actionType.Read) ? true : null"
                placeholder="{{ translations.STORE.MEMO_PLACEHOLDER | translate }}" [(ngModel)]="model.Memo">
            </div>
            <!-- END 備註 -->
          </div>
          <!-- END ROW 8-->

          <!-- ROW 9 -->
          <ng-container *ngIf="uiActionType == actionType.Read || uiActionType == actionType.Update">
            <div class="row ">
              <div class="col-sm-6 input-group">
                <label for="CreateUserName"
                  class="col-sm-4 col-form-label">{{ translations.STORE.CREATE_USERNAME_LABEL | translate }}</label>
                <input type="text" validator class="form-control col-sm-8" disabled formControlName="CreateUserName"
                  placeholder="{{ translations.STORE.CREATE_USERNAME_PLACEHOLDER | translate }}"
                  [(ngModel)]="model.CreateUserName">
              </div>
              <div class="col-sm-6 input-group">
                <label for="CreateDateTime"
                  class="col-sm-4 col-form-label">{{ translations.STORE.CREATE_DATETIME_LABEL | translate }}</label>
                <input type="text" validator class="form-control col-sm-8" disabled formControlName="CreateDateTime"
                  placeholder="{{ translations.STORE.CREATE_DATETIME_PLACEHOLDER | translate }}"
                  [(ngModel)]="model.CreateDateTime">
              </div>
            </div>
            <div class="row ">
              <div class="col-sm-6 input-group">
                <label for="UpdateUserName"
                  class="col-sm-4 col-form-label">{{ translations.STORE.UPDATE_USERNAME_LABEL | translate }}</label>
                <input type="text" validator class="form-control col-sm-8" disabled formControlName="UpdateUserName"
                  placeholder="{{ translations.STORE.UPDATE_USERNAME_PLACEHOLDER | translate }}"
                  [(ngModel)]="model.UpdateUserName">
              </div>
              <div class="col-sm-6 input-group">
                <label for="UpdateDateTime"
                  class="col-sm-4 col-form-label">{{ translations.STORE.UPDATE_DATETIME_LABEL | translate }}</label>
                <input type="text" class="form-control col-sm-8" disabled formControlName="UpdateDateTime" validator
                  placeholder="{{ translations.STORE.UPDATE_DATETIME_PLACEHOLDER | translate }}"
                  [(ngModel)]="model.UpdateDateTime">
              </div>
            </div>
          </ng-container>
          <!-- END ROW 9-->

          <!-- 設定按鈕 -->
          <div class="mt-5">
            <div class="row flex-center">
              <button type="button" *ngIf="uiActionType == actionType.Update" class="btn btn-sm btn-ptc-confirm mx-5"
                [authorize]="authType.Update"
                (click)="btnEdit($event)">{{ translations.COMMON.BTN_CONFIRM | translate }}
              </button>
              <button type="button" class="btn btn-sm btn-kind-finished mx-5"
                (click)="btnBack($event)">{{ translations.COMMON.BTN_BACK | translate }}</button>
            </div>
          </div>
          <!-- END 設定按鈕 -->
        </form>
      </nb-card-body>
    </nb-card>
  </div>
</div>
